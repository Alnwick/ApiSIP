<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Inicio de Sesión - UPIICSA</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>

<div class="split-layout">
    <!-- LADO IZQUIERDO -->
    <div class="brand-panel">
        <div class="brand-overlay"></div>
        <div class="brand-content">
            <div class="logos-container">
                <img src="Imagenes/ipn.png" alt="IPN" class="brand-logo">
                <img src="Imagenes/logo blanco.png" alt="UPIICSA" class="brand-logo">
            </div>
            <h1>Sistema de Prácticas Profesionales</h1>
            <p>Unidad Profesional Interdisciplinaria de Ingeniería y Ciencias Sociales y Administrativas</p>
        </div>
    </div>

    <!-- LADO DERECHO -->
    <div class="form-panel">
        <div class="form-wrapper">

            <!-- LOGIN -->
            <div id="login-view" class="auth-view active-view" style="max-width: 450px; margin: 0 auto;">
                <div class="view-header">
                    <h2>Bienvenido</h2>
                    <p>Inicia sesión para continuar</p>
                </div>

                <form id="login-form" onsubmit="event.preventDefault(); iniciarSesion();">
                    <div class="input-group-modern">
                        <label>Correo Electrónico</label>
                        <input type="email" id="login-email" placeholder="usuario@correo.com" required>
                    </div>

                    <div class="input-group-modern">
                        <label>Contraseña</label>
                        <input type="password" id="login-password" placeholder="••••••••" required>
                    </div>

                    <a href="#" class="forgot-link" onclick="mostrarRecuperacionModal()">¿Olvidaste tu contraseña?</a>

                    <button type="submit" class="btn-primary-lg" id="login-button">Iniciar Sesión</button>
                </form>

                <div class="view-footer">
                    ¿No tienes una cuenta? <a href="#" onclick="cambiarVista('registro')">Regístrate aquí</a>
                </div>
            </div>

            <!-- REGISTRO COMPACTO (Sin Scroll) -->
            <div id="registro-view" class="auth-view">
                <div class="view-header">
                    <h2>Registro</h2>
                    <p>Completa tus datos académicos</p>
                </div>

                <form id="registro-form-el" onsubmit="event.preventDefault(); iniciarRegistro();">

                    <!-- Fila 1: Nombre y Apellidos (3 cols) -->
                    <div class="row-grid">
                        <div class="input-group-modern col-1-3">
                            <label>Nombre(s)</label>
                            <input type="text" id="nombre" required>
                        </div>
                        <div class="input-group-modern col-1-3">
                            <label>Apellido P.</label>
                            <input type="text" id="apellido-paterno" required>
                        </div>
                        <div class="input-group-modern col-1-3">
                            <label>Apellido M.</label>
                            <input type="text" id="apellido-materno" required>
                        </div>
                    </div>

                    <!-- Fila 2: Boleta y Teléfono (2 cols) -->
                    <div class="row-grid">
                        <div class="input-group-modern col-1-2">
                            <label>Boleta</label>
                            <input type="text" id="boleta" maxlength="10" placeholder="10 dígitos" required>
                        </div>
                        <div class="input-group-modern col-1-2">
                            <label>Teléfono</label>
                            <input type="tel" id="phone" maxlength="10" placeholder="10 dígitos" required>
                        </div>
                    </div>

                    <!-- Fila 3: Escuela, Carrera, Plan (3 cols) -->
                    <div class="row-grid">
                        <div class="input-group-modern col-1-3">
                            <label>Escuela</label>
                            <select id="escuela" required>
                                <option value="">Selecciona...</option>
                            </select>
                        </div>
                        <div class="input-group-modern col-1-3">
                            <label>Carrera</label>
                            <select id="carrera" disabled required>
                                <option value="">...</option>
                            </select>
                        </div>
                        <div class="input-group-modern col-1-3">
                            <label>Plan</label>
                            <select id="plan-estudios" disabled required>
                                <option value="">...</option>
                            </select>
                        </div>
                    </div>

                    <!-- Fila 4: Soy Egresado y Semestre (2 cols) -->
                    <div class="row-grid" style="align-items: flex-end;">
                        <div class="input-group-modern col-1-2">
                            <!-- Toggle Soy Egresado -->
                            <label class="toggle-container">
                                <input type="checkbox" id="egresado-check">
                                <div class="toggle-switch"></div>
                                <span class="toggle-label">Soy Egresado</span>
                            </label>
                        </div>
                        <div class="input-group-modern col-1-2" id="semester-group">
                            <label>Semestre Actual</label>
                            <select id="semestre">
                                <option value="">Selecciona...</option>
                            </select>
                        </div>
                    </div>

                    <!-- Fila 5: Correo (1 col) -->
                    <div class="input-group-modern">
                        <label>Correo Electrónico</label>
                        <input type="email" id="email" placeholder="usuario@correo.com" required>
                    </div>

                    <!-- Fila 6: Contraseñas (2 cols) -->
                    <div class="row-grid">
                        <div class="input-group-modern col-1-2">
                            <label>Contraseña</label>
                            <input type="password" id="password" placeholder="Mín. 6 caracteres" required>
                        </div>
                        <div class="input-group-modern col-1-2">
                            <label>Confirmar</label>
                            <input type="password" id="confirm-password" placeholder="Repetir contraseña" required>
                        </div>
                    </div>

                    <button type="submit" class="btn-primary-lg" id="register-button">Crear Cuenta</button>
                </form>

                <div class="view-footer" style="margin-top: 0.8rem;">
                    ¿Ya tienes cuenta? <a href="#" onclick="cambiarVista('login')">Inicia sesión</a>
                </div>
            </div>

            <!-- VISTA VERIFICACIÓN -->
            <div id="verificacion-view" class="auth-view" style="text-align: center; max-width: 450px; margin: 0 auto;">
                <div class="view-header">
                    <h2>Verifica tu Correo</h2>
                    <p>Código enviado a: <strong id="email-destino" style="color:var(--primary)"></strong></p>
                </div>

                <input type="text" id="codigo-verificacion" placeholder="000000" maxlength="6"
                       style="font-size: 2rem; letter-spacing: 0.5rem; text-align: center; width: 200px; height: 60px; border: 2px solid var(--border); border-radius: 0.5rem; font-weight: 800; margin: 1rem auto; display: block;">

                <p style="font-size: 0.85rem; color: var(--text-muted); margin-bottom: 1rem;">
                    Reenviar en <span id="countdown">60</span>s
                </p>

                <button type="button" id="resend-button" class="btn-secondary-lg" disabled onclick="reenviarCodigo()" style="border:none; background:none; text-decoration: underline; margin-bottom: 1rem;">Reenviar código</button>

                <button class="btn-primary-lg" id="verify-button" onclick="verificarCodigo()">Verificar</button>
                <button class="btn-secondary-lg" onclick="cambiarVista('registro')">Volver</button>
            </div>

        </div>
    </div>
</div>

<!-- MODALES -->
<div id="global-modal" class="modal-overlay">
    <div class="modal-card">
        <div class="modal-icon" id="modal-icon"></div>
        <h3 id="modal-title">Título</h3>
        <p id="modal-msg">Mensaje</p>
        <button class="btn-primary-lg" id="modal-btn">Aceptar</button>
    </div>
</div>

<div id="recuperar-contrasena-modal" class="modal-overlay">
    <div class="modal-card">
        <h3>Recuperar Contraseña</h3>
        <p>Ingresa tu correo para recibir el enlace.</p>
        <div class="input-group-modern" style="text-align: left; margin: 1rem 0;">
            <label>Correo Electrónico</label>
            <input type="email" id="recovery-email" placeholder="usuario@correo.com">
        </div>
        <div class="row-grid">
            <button class="btn-secondary-lg col-1-2" onclick="cerrarRecuperacionModal()">Cancelar</button>
            <button class="btn-primary-lg col-1-2" id="send-recovery" style="margin-top: 0.5rem;" onclick="enviarCodigoRecuperacion()">Enviar</button>
        </div>
    </div>
</div>

<script src="script.js"></script>
</body>
</html>